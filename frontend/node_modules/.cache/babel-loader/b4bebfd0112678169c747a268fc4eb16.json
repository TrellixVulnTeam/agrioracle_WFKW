{"ast":null,"code":"var _jsxFileName = \"/home/tsankesara/projects/agrioracle/frontendv2/src/pages/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Col, Row, Button, Card, CardBody, CardTitle, CardText } from \"reactstrap\";\nimport Header from \"../components/Header\";\nimport API from \"../utills/Api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Auth = () => {\n  _s();\n\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [showLogin, setshowLogin] = useState(false);\n  const [showSignup, setshowSignup] = useState(false);\n  const [Username, setUsername] = useState(\"\");\n  const [apiKey, setapiKey] = useState(false);\n  const [isError, setisError] = useState(false);\n  const [errorMessage, seterrorMessage] = useState(\"\");\n  const [isSuccess, setisSuccess] = useState(false);\n  const [SuccessMessage, setSuccessMessage] = useState(\"\");\n  useEffect(() => {\n    async function checkLogin() {\n      let response = await API.get(\"/check\", {\n        headers: {\n          \"x-access-tokens\": localStorage.getItem(\"jwt\")\n        }\n      });\n      response = await response;\n      let res_data = { ...response.data\n      };\n      console.log(res_data);\n\n      if (res_data.isAuthenticated === false) {\n        setshowLogin(true);\n      } else {\n        setshowLogin(false);\n        setapiKey(res_data.api_token);\n      }\n    }\n\n    checkLogin();\n  }, []);\n\n  const loginApi = async () => {\n    const data = {\n      email: email,\n      password: password\n    };\n    await API.post(\"/login\", { ...data\n    }).then(res => {\n      console.log(res.data.token);\n      console.log(res.data.token);\n      localStorage.setItem(\"jwt\", res.data.token);\n      setshowLogin(false);\n      setshowSignup(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const signupApi = async () => {\n    const data = {\n      email: email,\n      password: password,\n      username: Username\n    };\n    await API.post(\"/signup\", { ...data\n    }).then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const loginJsx = () => {\n    return /*#__PURE__*/_jsxDEV(CardBody, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 5,\n            style: {\n              margin: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: e => {\n                e.preventDefault();\n                loginApi();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control\",\n                  placeholder: \"Email\",\n                  type: \"email\",\n                  value: email,\n                  onChange: e => setemail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control\",\n                  placeholder: \"Password\",\n                  type: \"password\",\n                  value: password,\n                  onChange: e => setpassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  margin: \"20px\",\n                  marginTop: \"24px\"\n                },\n                type: \"submit\",\n                class: \"btn btn-primary\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  margin: \"20px\",\n                  marginTop: \"24px\"\n                },\n                onClick: e => {\n                  e.preventDefault();\n                  setshowSignup(true);\n                  setshowLogin(false);\n                },\n                class: \"btn btn-primary\",\n                children: \"SignUp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this);\n  };\n\n  const signupJsx = () => {\n    return /*#__PURE__*/_jsxDEV(CardBody, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 5,\n            style: {\n              margin: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: e => {\n                e.preventDefault();\n                signupApi();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control\",\n                  placeholder: \"Username\",\n                  type: \"text\",\n                  value: Username,\n                  onChange: e => setUsername(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control\",\n                  placeholder: \"Email\",\n                  type: \"email\",\n                  value: email,\n                  onChange: e => setemail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-control\",\n                  placeholder: \"Password\",\n                  type: \"password\",\n                  value: password,\n                  onChange: e => setpassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  margin: \"20px\",\n                  marginTop: \"24px\"\n                },\n                type: \"submit\",\n                class: \"btn btn-primary\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  margin: \"20px\",\n                  marginTop: \"24px\"\n                },\n                class: \"btn btn-primary\",\n                onClick: e => {\n                  e.preventDefault();\n                  setshowSignup(false);\n                  setshowLogin(true);\n                },\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"A Tool For Future!\",\n      desc1: \"This is a simple hero unit, a simple Jumbotron-style component for calling extra attention to featured content or information.\",\n      desc2: \"It uses utility classes for typography and spacing to space content out within the larger container.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"contant-container\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [apiKey ? /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Api Key:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: apiKey\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 7\n        }, this) : null, showLogin ? /*#__PURE__*/_jsxDEV(Col, {\n          children: [\" \", loginJsx(), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 19\n        }, this) : null, isError ? /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          inverse: true,\n          color: \"danger\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            tag: \"h5\",\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(CardText, {\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }, this) : null, isSuccess ? /*#__PURE__*/_jsxDEV(Card, {\n          body: true,\n          inverse: true,\n          color: \"success\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            tag: \"h5\",\n            children: \"Success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(CardText, {\n            children: SuccessMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 7\n        }, this) : null, showSignup ? /*#__PURE__*/_jsxDEV(Col, {\n          children: signupJsx()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 20\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Auth, \"0QezZjvUt9Z0WP+y0SWyKCKDuDo=\");\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/home/tsankesara/projects/agrioracle/frontendv2/src/pages/Auth.js"],"names":["React","useState","useEffect","Container","Col","Row","Button","Card","CardBody","CardTitle","CardText","Header","API","Auth","email","setemail","password","setpassword","showLogin","setshowLogin","showSignup","setshowSignup","Username","setUsername","apiKey","setapiKey","isError","setisError","errorMessage","seterrorMessage","isSuccess","setisSuccess","SuccessMessage","setSuccessMessage","checkLogin","response","get","headers","localStorage","getItem","res_data","data","console","log","isAuthenticated","api_token","loginApi","post","then","res","token","setItem","catch","err","signupApi","username","loginJsx","margin","e","preventDefault","target","value","marginTop","signupJsx"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n\tContainer,\n\tCol,\n\tRow,\n\tButton,\n\tCard,\n\tCardBody,\n\tCardTitle,\n\tCardText,\n} from \"reactstrap\";\nimport Header from \"../components/Header\";\nimport API from \"../utills/Api\";\nconst Auth = () => {\n\tconst [email, setemail] = useState(\"\");\n\tconst [password, setpassword] = useState(\"\");\n\tconst [showLogin, setshowLogin] = useState(false);\n\tconst [showSignup, setshowSignup] = useState(false);\n\tconst [Username, setUsername] = useState(\"\");\n\tconst [apiKey, setapiKey] = useState(false);\n\tconst [isError, setisError] = useState(false);\n\tconst [errorMessage, seterrorMessage] = useState(\"\");\n\tconst [isSuccess, setisSuccess] = useState(false);\n\tconst [SuccessMessage, setSuccessMessage] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tasync function checkLogin() {\n\t\t\tlet response = await API.get(\"/check\", {\n\t\t\t\theaders: {\n\t\t\t\t\t\"x-access-tokens\": localStorage.getItem(\"jwt\"),\n\t\t\t\t},\n\t\t\t});\n\t\t\tresponse = await response;\n\t\t\tlet res_data = { ...response.data };\n\t\t\tconsole.log(res_data);\n\t\t\tif (res_data.isAuthenticated === false) {\n\t\t\t\tsetshowLogin(true);\n\t\t\t} else {\n\t\t\t\tsetshowLogin(false);\n\t\t\t\tsetapiKey(res_data.api_token);\n\t\t\t}\n\t\t}\n\t\tcheckLogin();\n\t}, []);\n\n\tconst loginApi = async () => {\n\t\tconst data = { email: email, password: password };\n\t\tawait API.post(\"/login\", { ...data })\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data.token);\n\t\t\t\tconsole.log(res.data.token);\n\t\t\t\tlocalStorage.setItem(\"jwt\", res.data.token);\n\t\t\t\tsetshowLogin(false);\n\t\t\t\tsetshowSignup(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst signupApi = async () => {\n\t\tconst data = { email: email, password: password, username: Username };\n\t\tawait API.post(\"/signup\", { ...data })\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst loginJsx = () => {\n\t\treturn (\n\t\t\t<CardBody>\n\t\t\t\t<Container>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={5} style={{ margin: \"auto\" }}>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tloginApi();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<div class='form-group'>\n\t\t\t\t\t\t\t\t\t<label for='exampleInputEmail1'>Email</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setemail(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='form-group'>\n\t\t\t\t\t\t\t\t\t<label for='exampleInputEmail1'>Password</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setpassword(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tstyle={{ margin: \"20px\", marginTop: \"24px\" }}\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclass='btn btn-primary'>\n\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tstyle={{ margin: \"20px\", marginTop: \"24px\" }}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tsetshowSignup(true);\n\t\t\t\t\t\t\t\t\t\tsetshowLogin(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass='btn btn-primary'>\n\t\t\t\t\t\t\t\t\tSignUp\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</CardBody>\n\t\t);\n\t};\n\n\tconst signupJsx = () => {\n\t\treturn (\n\t\t\t<CardBody>\n\t\t\t\t<Container>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={5} style={{ margin: \"auto\" }}>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tsignupApi();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<div class='form-group'>\n\t\t\t\t\t\t\t\t\t<label for='exampleInputEmail1'>Username</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Username'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={Username}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='form-group'>\n\t\t\t\t\t\t\t\t\t<label for='exampleInputEmail1'>Email</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setemail(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class='form-group'>\n\t\t\t\t\t\t\t\t\t<label for='exampleInputEmail1'>Password</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setpassword(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tstyle={{ margin: \"20px\", marginTop: \"24px\" }}\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclass='btn btn-primary'>\n\t\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tstyle={{ margin: \"20px\", marginTop: \"24px\" }}\n\t\t\t\t\t\t\t\t\tclass='btn btn-primary'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tsetshowSignup(false);\n\t\t\t\t\t\t\t\t\t\tsetshowLogin(true);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</CardBody>\n\t\t);\n\t};\n\treturn (\n\t\t<>\n\t\t\t<Header\n\t\t\t\ttitle='A Tool For Future!'\n\t\t\t\tdesc1='This is a simple hero unit, a simple Jumbotron-style component\n\t\t\t\t\t\t\t\tfor calling extra attention to featured content or information.'\n\t\t\t\tdesc2='It uses utility classes for typography and spacing to space\n                content out within the larger container.'\n\t\t\t/>\n\t\t\t<Container fluid className='contant-container'>\n\t\t\t\t<Row>\n\t\t\t\t\t{apiKey ? (\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<h2>Your Api Key:</h2>\n\t\t\t\t\t\t\t<h3>{apiKey}</h3>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{showLogin ? <Col> {loginJsx()} </Col> : null}\n\t\t\t\t\t{isError ? (\n\t\t\t\t\t\t<Card body inverse color='danger'>\n\t\t\t\t\t\t\t<CardTitle tag='h5'>Error</CardTitle>\n\t\t\t\t\t\t\t<CardText>{errorMessage}</CardText>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{isSuccess ? (\n\t\t\t\t\t\t<Card body inverse color='success'>\n\t\t\t\t\t\t\t<CardTitle tag='h5'>Success</CardTitle>\n\t\t\t\t\t\t\t<CardText>{SuccessMessage}</CardText>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{showSignup ? <Col>{signupJsx()}</Col> : null}\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t</>\n\t);\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}